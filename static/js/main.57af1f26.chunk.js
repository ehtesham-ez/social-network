(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{1365:function(t,e){},1368:function(t,e,n){"use strict";n.r(e);var s=n(1),c=n(0),r=n.n(c),o=n(31),a=n.n(o),i=(n(69),n(19)),u=n(5),d=function(){return Object(s.jsx)("nav",{children:Object(s.jsxs)("section",{children:[Object(s.jsx)("h1",{children:"Redux Essentials Example"}),Object(s.jsx)("div",{className:"navContent",children:Object(s.jsx)("div",{className:"navLinks",children:Object(s.jsx)(i.b,{to:"/",children:"Posts"})})})]})})},j=n(8),l=function(t){var e=t.userId,n=Object(j.c)((function(t){return t.users.find((function(t){return t.id===e}))}));return Object(s.jsxs)("span",{children:["by ",n?n.name:"Unknown author"]})},b=n(1369),O=n(1370),p=function(t){var e=t.timestamp,n="";if(e){var c=Object(b.a)(e),r=Object(O.a)(c);n="".concat(r," ago")}return Object(s.jsxs)("span",{title:e,children:["\xa0 ",Object(s.jsx)("i",{children:n})]})},h=n(20),m=n(12),f=n(1371),x=[{user:"1",id:"1",title:"First Post!",content:"Hello!",date:Object(f.a)(new Date,{minutes:10}).toISOString(),reactions:{heart:14}},{user:"2",id:"2",title:"Second Post",content:"More text",date:Object(f.a)(new Date,{minutes:5}).toISOString(),reactions:{heart:25}},{user:"0",id:"XKXArvMtacXy4hRb3YGnV",title:"Hello World!",content:"Hello World, in this post body I am want to announce to you that I am learning Redux.",date:Object(f.a)(new Date,{minutes:7}).toISOString(),reactions:{heart:147}}],v=Object(m.b)({name:"posts",initialState:x,reducers:{postAdded:{reducer:function(t,e){t.push(e.payload)},prepare:function(t,e,n){return{payload:{id:Object(m.c)(),date:(new Date).toISOString(),title:t,content:e,user:n,reactions:{heart:0}}}}},reactionAdded:function(t,e){var n=e.payload,s=n.postId,c=n.reaction,r=t.find((function(t){return t.id===s}));r&&r.reactions[c]++},postUpdated:function(t,e){var n=e.payload,s=n.id,c=n.title,r=n.content,o=t.find((function(t){return t.id===s}));o&&(o.title=c,o.content=r)}}}),g=v.actions,S=g.postAdded,I=g.postUpdated,w=g.reactionAdded,y=v.reducer,N={heart:"\u2764\ufe0f"},C=function(t){var e=t.post,n=Object(j.b)(),c=Object.entries(N).map((function(t){var c=Object(h.a)(t,2),r=c[0],o=c[1];return Object(s.jsxs)("button",{type:"button",className:"muted-button reaction-button",onClick:function(){return n(w({postId:e.id,reaction:r}))},children:[o," ",e.reactions[r]]},r)}));return Object(s.jsx)("div",{children:c})},P=function(){var t=Object(j.c)((function(t){return t.posts})).slice().sort((function(t,e){return e.date.localeCompare(t.date)})).map((function(t){return Object(s.jsxs)("article",{className:"post-excerpt",children:[Object(s.jsx)("h3",{children:t.title}),Object(s.jsxs)("div",{children:[Object(s.jsx)(l,{userId:t.user}),Object(s.jsx)(p,{timestamp:t.date})]}),Object(s.jsx)("p",{className:"post-content",children:t.content.substring(0,100)}),Object(s.jsx)(C,{post:t}),Object(s.jsx)(i.b,{to:"/posts/".concat(t.id),className:"button muted-button",children:"View Post"})]},t.id)}));return Object(s.jsxs)("section",{className:"posts-list",children:[Object(s.jsx)("h2",{children:"Posts"}),t]})},k=function(){var t=Object(c.useState)(""),e=Object(h.a)(t,2),n=e[0],r=e[1],o=Object(c.useState)(""),a=Object(h.a)(o,2),i=a[0],u=a[1],d=Object(c.useState)(""),l=Object(h.a)(d,2),b=l[0],O=l[1],p=Object(j.b)(),m=Object(j.c)((function(t){return t.users})),f=Boolean(n)&&Boolean(i)&&Boolean(b),x=m.map((function(t){return Object(s.jsx)("option",{value:t.id,children:t.name},t.id)}));return Object(s.jsxs)("section",{children:[Object(s.jsx)("h2",{children:"Add a New Post"}),Object(s.jsxs)("form",{children:[Object(s.jsx)("label",{htmlFor:"postTitle",children:"Post Title:"}),Object(s.jsx)("input",{type:"text",id:"postTitle",name:"postTitle",value:n,onChange:function(t){return r(t.target.value)}}),Object(s.jsx)("label",{htmlFor:"postAuthor",children:"Author:"}),Object(s.jsxs)("select",{id:"postAuthor",value:b,onChange:function(t){return O(t.target.value)},children:[Object(s.jsx)("option",{value:""}),x]}),Object(s.jsx)("label",{htmlFor:"postContent",children:"Content:"}),Object(s.jsx)("textarea",{id:"postContent",name:"postContent",value:i,onChange:function(t){return u(t.target.value)}}),Object(s.jsx)("button",{type:"button",onClick:function(){n&&i&&(p(S(n,i,b)),r(""),u(""),O(""))},disabled:!f,children:"Save Post"})]})]})},A=function(t){var e=t.match.params.postId,n=Object(j.c)((function(t){return t.posts.find((function(t){return t.id===e}))}));return n?Object(s.jsx)("section",{children:Object(s.jsxs)("article",{className:"post",children:[Object(s.jsx)("h2",{children:n.title}),Object(s.jsx)(l,{userId:n.user}),Object(s.jsx)(p,{timestamp:n.date}),Object(s.jsx)("p",{className:"post-content",children:n.content}),Object(s.jsx)(C,{post:n}),Object(s.jsx)("br",{}),Object(s.jsx)(i.b,{to:"/editPost/".concat(n.id),className:"button",children:"Edit Post"})]})}):Object(s.jsx)("section",{children:Object(s.jsx)("h2",{children:"Post not found!"})})},T=function(t){var e=t.match.params.postId,n=Object(j.c)((function(t){return t.posts.find((function(t){return t.id===e}))})),r=Object(c.useState)(n.title),o=Object(h.a)(r,2),a=o[0],i=o[1],d=Object(c.useState)(n.content),l=Object(h.a)(d,2),b=l[0],O=l[1],p=Object(j.b)(),m=Object(u.g)();return Object(s.jsxs)("section",{children:[Object(s.jsx)("h2",{children:"Edit Post"}),Object(s.jsxs)("form",{children:[Object(s.jsx)("label",{htmlFor:"postTitle",children:"Post Title:"}),Object(s.jsx)("input",{type:"text",id:"postTitle",name:"postTitle",placeholder:"What's on your mind?",value:a,onChange:function(t){return i(t.target.value)}}),Object(s.jsx)("label",{htmlFor:"postContent",children:"Content:"}),Object(s.jsx)("textarea",{id:"postContent",name:"postContent",value:b,onChange:function(t){return O(t.target.value)}})]}),Object(s.jsx)("button",{type:"button",onClick:function(){a&&b&&(p(I({id:e,title:a,content:b})),m.push("/posts/".concat(e)))},children:"Save Post"})]})};var D,M=function(){return Object(s.jsxs)(i.a,{children:[Object(s.jsx)(d,{}),Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(u.d,{children:[Object(s.jsx)(u.b,{exact:!0,path:"/",render:function(){return Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)(k,{}),Object(s.jsx)(P,{})]})}}),Object(s.jsx)(u.b,{exact:!0,path:"/posts/:postId",component:A}),Object(s.jsx)(u.b,{exact:!0,path:"/editPost/:postId",component:T}),Object(s.jsx)(u.a,{to:"/"})]})})]})},F=Object(m.b)({name:"users",initialState:[{id:"0",name:"Tianna Jenkins"},{id:"1",name:"Kevin Grant"},{id:"2",name:"Madison Price"}],reducers:{}}).reducer,E=Object(m.a)({reducer:{posts:y,users:F}}),R=n(63),B=n(9),U=n(18),q=n.n(U),z=n(28),H=n(46),J=n.n(H),L=B.c.extend({serializeIds:"always"}),W=J()(),X=localStorage.getItem("randomTimestampSeed");function G(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(W()*(e-t+1))+t}X?D=new Date(X):(X=(D=new Date).toISOString(),localStorage.setItem("randomTimestampSeed",X)),W=J()(X),Object(z.setRandom)(W),q.a.seed(D.getTime());var K=function(t){return t[G(0,t.length-1)]},V=["poked you","says hi!","is glad we're friends","sent you a gift"];new B.d({routes:function(){this.namespace="fakeApi",this.resource("users"),this.resource("posts"),this.resource("comments");var t=this;this.post("/posts",(function(e,n){var s=this.normalizedRequestAttrs();s.date=(new Date).toISOString();var c=e.users.find(s.userId);if(s.user=c,"error"===s.content)throw new Error("Could not save the post!");return t.create("post",s)})),this.get("/posts/:postId/comments",(function(t,e){return t.posts.find(e.params.postId).comments})),this.get("/notifications",(function(t,e){var n,s=G(1,5),c=new Date;return e.queryParams.since?n=Object(b.a)(e.queryParams.since):(n=new Date(c.valueOf())).setMinutes(n.getMinutes()-15),{notifications:Object(R.a)(Array(s)).map((function(){var e=K(t.db.users),s=K(V);return{id:Object(m.c)(),date:q.a.date.between(n,c).toISOString(),message:s,user:e.id,read:!1,isNew:!0}}))}}))},models:{user:B.b.extend({posts:Object(B.g)()}),post:B.b.extend({user:Object(B.f)(),comments:Object(B.g)()}),comment:B.b.extend({post:Object(B.f)()}),notification:B.b.extend({})},factories:{user:B.a.extend({id:function(){return Object(m.c)()},firstName:function(){return q.a.name.firstName()},lastName:function(){return q.a.name.lastName()},name:function(){return q.a.name.findName(this.firstName,this.lastName)},username:function(){return q.a.internet.userName(this.firstName,this.lastName)},afterCreate:function(t,e){e.createList("post",3,{user:t})}}),post:B.a.extend({id:function(){return Object(m.c)()},title:function(){return Object(z.sentence)()},date:function(){return q.a.date.recent(7)},content:function(){return Object(z.article)(1)},reactions:function(){return{thumbsUp:0,hooray:0,heart:0,rocket:0,eyes:0}},afterCreate:function(t,e){},user:Object(B.e)()}),comment:B.a.extend({id:function(){return Object(m.c)()},date:function(){return q.a.date.past(2)},text:function(){return Object(z.paragraph)()},post:Object(B.e)()})},serializers:{user:L,post:L,comment:L},seeds:function(t){t.createList("user",3)}}),a.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(j.a,{store:E,children:Object(s.jsx)(M,{})})}),document.getElementById("root"))},69:function(t,e,n){}},[[1368,1,2]]]);
//# sourceMappingURL=main.57af1f26.chunk.js.map